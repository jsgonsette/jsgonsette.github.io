<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>Jean-Sébastien Gonsette  | The Right Way to Pave the Grid</title>
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">

    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="generator" content="Hugo 0.90.0" />
    
    
      <META NAME="ROBOTS" CONTENT="INDEX, FOLLOW">
    

    <link href='https://jsgonsette.github.io/dist/main.css' rel='stylesheet' type="text/css" />
    <link href='https://jsgonsette.github.io/css/jsg.css' rel='stylesheet' type="text/css" />
    <link href='https://jsgonsette.github.io/css/socialSharing.css' rel='stylesheet' type="text/css" />
    
      
    

    

    <meta property="og:title" content="The Right Way to Pave the Grid" />
<meta property="og:description" content="The method used previously to fill the grid was excessively naive, because it is quite catastrophic to wait the grid is full before to test the validity of the solution. The problem being combinatorial, the exponential nature of the combinations of words appears as so many branches and twigs subdividing frightfully quickly. So it is better to realize as soon as possible that the chosen path is rather a dead end, so as to cut off the dead branch as soon as possible and avoiding to lose valuable computing time in the depths of its tree." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://jsgonsette.github.io/en/projects/wizium/part2/" /><meta property="article:section" content="Projects" />
<meta property="article:published_time" content="2019-06-27T00:00:00+00:00" />
<meta property="article:modified_time" content="2019-06-27T00:00:00+00:00" /><meta property="og:site_name" content="Jean-Sébastien Gonsette" />

<meta itemprop="name" content="The Right Way to Pave the Grid">
<meta itemprop="description" content="The method used previously to fill the grid was excessively naive, because it is quite catastrophic to wait the grid is full before to test the validity of the solution. The problem being combinatorial, the exponential nature of the combinations of words appears as so many branches and twigs subdividing frightfully quickly. So it is better to realize as soon as possible that the chosen path is rather a dead end, so as to cut off the dead branch as soon as possible and avoiding to lose valuable computing time in the depths of its tree."><meta itemprop="datePublished" content="2019-06-27T00:00:00+00:00" />
<meta itemprop="dateModified" content="2019-06-27T00:00:00+00:00" />
<meta itemprop="wordCount" content="2171">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="The Right Way to Pave the Grid"/>
<meta name="twitter:description" content="The method used previously to fill the grid was excessively naive, because it is quite catastrophic to wait the grid is full before to test the validity of the solution. The problem being combinatorial, the exponential nature of the combinations of words appears as so many branches and twigs subdividing frightfully quickly. So it is better to realize as soon as possible that the chosen path is rather a dead end, so as to cut off the dead branch as soon as possible and avoiding to lose valuable computing time in the depths of its tree."/>

      
    
  </head>

  <body class="ma0 avenir bg-near-white">

    

  
  
  <header class="cover bg-top" style="background-image: url('https://jsgonsette.github.io/images/Wizium/PavingFlat.jpg');">
    <div class="pb3-m pb6-l bg-black-60">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="https://jsgonsette.github.io/" class="f3 fw2 hover-white no-underline white-90 dib">
      Jean-Sébastien Gonsette
    </a>
    <div class="flex-l items-center">
      
        <ul class="pl0 mr3">
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/en/posts/" title="Posts page">
              Posts
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/en/projects/" title="Projects page">
              Projects
            </a>
          </li>
          
        </ul>
      
      






  <a href="https://www.linkedin.com/in/jsgonsette/" class="link-transition linkedin link dib z-999 pt3 pt0-l mr2" title="LinkedIn link">
    <svg  height="32px"  style="enable-background:new 0 0 65 65;" version="1.1" viewBox="0 0 65 65" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <path d="M50.837,48.137V36.425c0-6.275-3.35-9.195-7.816-9.195  c-3.604,0-5.219,1.983-6.119,3.374V27.71h-6.79c0.09,1.917,0,20.427,0,20.427h6.79V36.729c0-0.609,0.044-1.219,0.224-1.655  c0.49-1.22,1.607-2.483,3.482-2.483c2.458,0,3.44,1.873,3.44,4.618v10.929H50.837z M22.959,24.922c2.367,0,3.842-1.57,3.842-3.531  c-0.044-2.003-1.475-3.528-3.797-3.528s-3.841,1.524-3.841,3.528c0,1.961,1.474,3.531,3.753,3.531H22.959z M34,64  C17.432,64,4,50.568,4,34C4,17.431,17.432,4,34,4s30,13.431,30,30C64,50.568,50.568,64,34,64z M26.354,48.137V27.71h-6.789v20.427  H26.354z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>

  </a>


  <a href="https://github.com/jsgonsette" class="link-transition github link dib z-999 pt3 pt0-l mr2" title="Github link">
    <svg  height="32px"  style="enable-background:new 0 0 512 512;" version="1.1" viewBox="0 0 512 512" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
  <path d="M256,32C132.3,32,32,134.8,32,261.7c0,101.5,64.2,187.5,153.2,217.9c11.2,2.1,15.3-5,15.3-11.1   c0-5.5-0.2-19.9-0.3-39.1c-62.3,13.9-75.5-30.8-75.5-30.8c-10.2-26.5-24.9-33.6-24.9-33.6c-20.3-14.3,1.5-14,1.5-14   c22.5,1.6,34.3,23.7,34.3,23.7c20,35.1,52.4,25,65.2,19.1c2-14.8,7.8-25,14.2-30.7c-49.7-5.8-102-25.5-102-113.5   c0-25.1,8.7-45.6,23-61.6c-2.3-5.8-10-29.2,2.2-60.8c0,0,18.8-6.2,61.6,23.5c17.9-5.1,37-7.6,56.1-7.7c19,0.1,38.2,2.6,56.1,7.7   c42.8-29.7,61.5-23.5,61.5-23.5c12.2,31.6,4.5,55,2.2,60.8c14.3,16.1,23,36.6,23,61.6c0,88.2-52.4,107.6-102.3,113.3   c8,7.1,15.2,21.1,15.2,42.5c0,30.7-0.3,55.5-0.3,63c0,6.1,4,13.3,15.4,11C415.9,449.1,480,363.1,480,261.7   C480,134.8,379.7,32,256,32z"/>
</svg>

  </a>


  <a href="https://jeansebastien-gonsette.medium.com/" class="link-transition medium link dib z-999 pt3 pt0-l mr2" title="Medium link">
    <svg  height="32px"  style="enable-background:new 0 0 170 170;" version="1.1" viewBox="0 0 170 170" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M46.5340803,65.2157554 C46.6968378,63.6076572 46.0836,62.018231 44.8828198,60.93592 L32.6512605,46.2010582 L32.6512605,44 L70.6302521,44 L99.9859944,108.380952 L125.794585,44 L162,44 L162,46.2010582 L151.542017,56.2281011 C150.640424,56.9153477 150.193188,58.0448862 150.380019,59.1628454 L150.380019,132.837155 C150.193188,133.955114 150.640424,135.084652 151.542017,135.771899 L161.755369,145.798942 L161.755369,148 L110.38282,148 L110.38282,145.798942 L120.963119,135.527337 C122.002801,134.487948 122.002801,134.182246 122.002801,132.592593 L122.002801,73.0417402 L92.585901,147.755438 L88.6106443,147.755438 L54.3622782,73.0417402 L54.3622782,123.115814 C54.0767278,125.221069 54.7759199,127.3406 56.2581699,128.863022 L70.0186741,145.55438 L70.0186741,147.755438 L31,147.755438 L31,145.55438 L44.7605042,128.863022 C46.2319621,127.338076 46.8903838,125.204485 46.5340803,123.115814 L46.5340803,65.2157554 Z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>
  </a>


    </div>
  </div>
</nav>

      <div class="tc-l pv6 ph3 ph4-ns">
        <h1 class="f2 f1-l fw2 white-90 mb0 lh-title">The Right Way to Pave the Grid</h1>
        
      </div>
    </div>
  </header>


    <main class="pb7" role="main">
      
  <div class="flex-l mt2 mw8 center">
    <article class="center cf pv5 ph3 ph4-ns mw7">
      <header>
        <p class="f6 b helvetica tracked">
          
            Wizium - My Crosswords Generator
          
        </p>
        <h1 class="f1">
          The Right Way to Pave the Grid
        </h1>
        <time class="f6 mv4 dib tracked" datetime="2019-06-27T00:00:00Z">
          <b>Published: </b>June 27, 2019
          

          
          <br><br>
          
              <b><a href="https://jsgonsette.github.io/projects/wizium/part2/">Version fr.</a></b>
          
        
        </time>


      </header>
      <div class="nested-copy-line-height lh-copy f4 nested-links nested-img mid-gray">
        <span class="justified">
        <p>The method used previously to fill the grid was excessively naive, because it is quite catastrophic to wait the grid is full before to test the validity of the solution. The problem being combinatorial, the exponential nature of the combinations of words appears as so many branches and twigs subdividing frightfully quickly. So it is better to realize as soon as possible that the chosen path is rather a dead end, so as to cut off the dead branch as soon as possible and avoiding to lose valuable computing time in the depths of its tree.</p>
<p>



  


<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
<script src="/js/load-photoswipe.js"></script>


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/photoswipe.min.css" integrity="sha256-sCl5PUOGMLfFYctzDW3MtRib0ctyUvI9Qsmq2wXOeBY=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/default-skin/default-skin.min.css" integrity="sha256-BFeI1V+Vh1Rk37wswuOYn5lsTcaU96hGaI7OUVCLjPc=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/photoswipe.min.js" integrity="sha256-UplRCs9v4KXVJvVY+p+RSo5Q4ilAUXh7kpjyIP5odyc=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/photoswipe-ui-default.min.js" integrity="sha256-PWHOlUzc96pMc8ThwRIXPn8yH4NOLu42RQ0b9SpnpFk=" crossorigin="anonymous"></script>


<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [['$$','$$'], ['\[','\]']],
    processEscapes: true,
    processEnvironments: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
    TeX: { equationNumbers: { autoNumber: "AMS" },
         extensions: ["AMSmath.js", "AMSsymbols.js"] }
  }
});
</script>

</p>
<p>But you still have to know what is the most effective way to proceed, so as to anticipate as quickly as possible any blocking situation. I do not pretend to have the ultimate answer to this question. However, I will simply present two possible methods, one of which is the one implemented in <em>Wizum</em>.</p>
<h2 id="first-method-the-braiding">First method: the braiding</h2>
<p>This technique is quite natural and consists of alternating the placement of words horizontally and vertically, from top to bottom and from left to right. The interleaving of words is then maximal and makes it possible to detect any deadlock very early. In that case, it is necessary to go back and change the previous word to remove the blocking point.</p>

<link rel="stylesheet" href="/css/hugo-easy-gallery.css" />
<div class="box" >
  <figure  itemprop="associatedMedia" itemscope itemtype="http://schema.org/ImageObject">
    <div class="img">
      <img itemprop="thumbnail" src="/images/Wizium/Weave.gif" alt="Grid generation by interleaving words horizontally and vertically."/>
    </div>
    <a href="/images/Wizium/Weave.gif" itemprop="contentUrl"></a>
      <figcaption>
          <p>Grid generation by interleaving words horizontally and vertically.</p>
      </figcaption>
  </figure>
</div>

<p>In the example above, using the French word <strong>CREOLE</strong> for the third vertical slot forbids the placement of any fourth horizontal word. There is indeed no solution of six letters starting with <strong>REO</strong>. This invalidates the previous word and immediately forces us to replace it with something that does not contain an <strong>O</strong> on the fourth row. All the remaining empty squares on the grid are then as so many combinations of words that don’t have to be tested.</p>
<p>Let’s try now to evaluate the gain that this methodology can offer. It can be studied by approaching it like a <em>discrete Markov chain</em>, that is to say that the paving algorithm can be assimilated to a stochastic process whose state only depends on the current grid slot to fill in. The success or failure of this operation leads either to advance to the next word or, on the contrary, to go back to change the previous one. This process is not really homogeneous, because technically, the probabilities of transitions depend not only on the part of the grid that we are trying to fill, but also on all the combinations of letters that have already been exhausted. However, it’s sufficient to use this approximation as we only want to estimate the order of magnitude of the gain provided by this approach.</p>
<p>For that purpose, let call ${w_h}_i$ the $S$ horizontal slots and, in the same way, let call ${w_v}_i$ the $S$ vertical slots. The probability that some word in the dictionary fits each of these slots is given by:</p>
<p>$${p_{h}}_i = 1 - (1 - {p_{co}}^i)^N$$</p>
<p>$${p_{v}}_i = 1 - (1 - {p_{co}}^{i+1})^N$$</p>
<p>with $i=0&hellip;S-1$. These formulas simply reflect the probability that a certain number of randomly matched letters correspond to a valid word part. The higher is $i$, the lower the chances because of the increasing number of letters to deal with. We can then model the <em>backtracking</em> process by this Markov chain:</p>


<div class="box" >
  <figure  itemprop="associatedMedia" itemscope itemtype="http://schema.org/ImageObject">
    <div class="img">
      <img itemprop="thumbnail" src="/images/Wizium/Markov.png" alt="Markov Chain modeling the set of probabilities to find a correct word at each grid slot."/>
    </div>
    <a href="/images/Wizium/Markov.png" itemprop="contentUrl"></a>
      <figcaption>
          <p>Markov Chain modeling the set of probabilities to find a correct word at each grid slot.</p>
      </figcaption>
  </figure>
</div>

<p>Without going too much into mathematical details, a Markov process can be studied through the properties of its transition matrix $P$. This one is constructed so that each element $(P)_{ij}$ is equal to the transition probability from state $i$ to state $j$.</p>
<p>$$P=\begin{pmatrix}
0 &amp; 1-{p_v}_0 &amp; 0  &amp; 0 &amp; 0\newline
{p_h}_0 &amp; 0 &amp; \ddots &amp; 0 &amp; 0\newline
0 &amp; {p_v}_0 &amp; 0 &amp; 1-{p_v} _ {S-1} &amp; 0\newline
0 &amp; 0 &amp; \ddots &amp; 0 &amp; 0 \newline
0 &amp; 0 &amp; 0 &amp; {p_v} _ {S-1} &amp; 1
\end{pmatrix}$$</p>
<p>so that if $\phi(n)$ represents the probability distribution of the process state at time n, then the distribution at the next step will be given by:</p>
<p>$$\phi(n+1) = P. \phi(n)$$</p>
<p>The last state is called an <strong>absorbing</strong> state because it corresponds to the construction of a valid complete grid and stops the building process. This can be seen on the graph because of the unique transition probability of value 1 that cycles on this final state. This property is also found in the last column of the matrix $P$ which does not permit to redistribute the probabilities other than in the last state. Conversely, all other states are <strong>transient</strong>, as there is no guarantee that the algorithm will cross them more than once. Then, the value that is particularly interesting to study concerns <em>the average time spent in these transient states before reaching the final state</em>.</p>
<p>To achieve this, we first need to rewrite the matrix $P$ by highlighting this distinction, thanks to the square matrix $Q$ capturing this transient aspect, as well as to the vector $R$ representing the absorbing state.</p>
<p>$$P=\begin{pmatrix}
Q &amp; \boldsymbol{0}\newline
R &amp; 1\newline	
\end{pmatrix}$$</p>
<p>This representation enables to calculate the matrix $N = (I-Q)^{-1}$ by which it is possible find the average duration of the transient phase, or in other words, the average number of steps of the <em>backtracking</em> algorithm (follow this <a href="https://www.dartmouth.edu/~chance/teaching_aids/books_articles/probability_book/Chapter11.pdf">link</a> for more information on this subject).</p>
<p>Now let’s look at the new estimates of the number of steps required to solve our perfect grids of different sizes, in order to appreciate the gain brought by this new method.</p>
<table>
<thead>
<tr>
<th style="text-align:left">$S$</th>
<th style="text-align:center">  Number of grids </th>
<th style="text-align:right">  #naïve  </th>
<th style="text-align:right">  #braiding  </th>
<th style="text-align:right">  Mean slv. time</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"></td>
<td style="text-align:center"></td>
<td style="text-align:right"></td>
<td style="text-align:right"></td>
<td style="text-align:right"></td>
</tr>
<tr>
<td style="text-align:left">5  </td>
<td style="text-align:center">$10^{19}$</td>
<td style="text-align:right">$10^{8.7}$</td>
<td style="text-align:right">$10^{3.4}$</td>
<td style="text-align:right">1ms</td>
</tr>
<tr>
<td style="text-align:left">6  </td>
<td style="text-align:center">$10^{24.8}$</td>
<td style="text-align:right">$10^{15.0}$</td>
<td style="text-align:right">$10^{6.3}$</td>
<td style="text-align:right">2s</td>
</tr>
<tr>
<td style="text-align:left">7  </td>
<td style="text-align:center">$10^{30.5}$</td>
<td style="text-align:right">$10^{23.7}$</td>
<td style="text-align:right">$10^{11}$</td>
<td style="text-align:right">1 day</td>
</tr>
<tr>
<td style="text-align:left">8  </td>
<td style="text-align:center">$10^{36.0}$</td>
<td style="text-align:right">$10^{34.8}$</td>
<td style="text-align:right">$10^{17.8}$</td>
<td style="text-align:right">20.000 years</td>
</tr>
</tbody>
</table>
<p>As before, the last column estimates the resolution time at a rate of one million tests per second. It goes without saying that the progress is spectacular, the resolution of a 7x7 grid can now be considered without problem, passing from 10 billion years (which is not far from the age of the universe) to just a single day. The 8x8 grids, however, remain out of reach with this method, at least with the usage of a conventional computer.</p>
<h2 id="second-method-the-scaffolding">Second method: the scaffolding</h2>
<p>The technique I am about to describe is the basis of the algorithm implemented in <em>Wizium</em>. It results primarily from a long search punctuated by many trials and many errors, not from the analysis you are reading, because it came much later. Despite its empirical elaboration, its main advantage is that it does not suffer from the same weaknesses than the previous method. It is much more direct and anticipates problems better. To realize this, let’s start by taking a look at the construction of the following grid:</p>


<div class="box" >
  <figure  itemprop="associatedMedia" itemscope itemtype="http://schema.org/ImageObject">
    <div class="img">
      <img itemprop="thumbnail" src="/images/Wizium/WeaveFail.gif" alt="Pathological construction by vertical vertical interleaving of words. It is only at the last stage of the algorithm that the impossibility of the last column is detected."/>
    </div>
    <a href="/images/Wizium/WeaveFail.gif" itemprop="contentUrl"></a>
      <figcaption>
          <p>Pathological construction by vertical vertical interleaving of words. It is only at the last stage of the algorithm that the impossibility of the last column is detected.</p>
      </figcaption>
  </figure>
</div>

<p>This pathological construction was custom-made, but nevertheless illustrates an inevitable flaw in the method of <em>braiding</em>: when we put the last words, the success of the operation is all about luck and nothing about anticipation. This is what can be seen in this example, the laying of the second horizontal word generates a deal-lock, because it prevents to place a word vertically on the last column. But there is nothing in the algorithm to detect this dead-end and it will continue laboriously to build a grid that is doomed to failure. It is only when looking for the last word that the procedure will start to go back to solve the situation, and it will have to undo almost the entire grid.</p>
<p>To avoid such kind of problems, it is necessary and sufficient to check that it is still possible to place a word vertically on each column each time a horizontal word is chosen. But in doing so, it is not needed anymore to place any word vertically. The stacking of horizontal words is sufficient as it is carried out in an enlightened way: the algorithm ensures continuously that we will not have a bad surprise at the end. So it is not question here of throwing words loose to hope to get out a valid grid at the end, it is rather about stacking words carefully at each step. It is of course possible that, anytime, no word in the dictionary satisfies the current constraint. But in this case, the blockage is identified at the earliest and allows to go back immediately, without embarking on a sterile search. This method is illustrated in the following animation.</p>


<div class="box" >
  <figure  itemprop="associatedMedia" itemscope itemtype="http://schema.org/ImageObject">
    <div class="img">
      <img itemprop="thumbnail" src="/images/Wizium/Wizium.gif" alt="Methodical scaffolding of horizontal words, always verifying vertical locations."/>
    </div>
    <a href="/images/Wizium/Wizium.gif" itemprop="contentUrl"></a>
      <figcaption>
          <p>Methodical scaffolding of horizontal words, always verifying vertical locations.</p>
      </figcaption>
  </figure>
</div>

<p>In addition to its anticipation ability, this method requires placing only $S$ words on the grid, against $2.S$ words for the braiding method. This implies that the corresponding Markov graph is shortened and, if the transition probabilities are favorable, may be easier to get through.</p>
<p>Let’s study these transition probabilities. The approach is as follows: a horizontal word can be placed if there is at least <em>one compatible vertical word</em> on each of the crossed columns.First, we need to look a little more closely at this number of compatible words. It is certain that, the more we move on in the construction, the more this number decreases because of the higher length of the corresponding prefixes. For example, when I put the (French) word <strong>BRELER</strong>, I have to check that there is a word starting with <strong>HAB</strong> in the first column. This number of possibilities is higher than when we put the (French) word <strong>ETETER</strong> and that we have to check that there is a word starting with <strong>HABLE</strong>.</p>
<p>The average number of words available, given the length of a prefix, can be found by simply compiling some statistics about the dictionary used. This is the purpose of this  <a href="https://github.com/jsgonsette/Wizium/blob/master/Scripts/dico_stats.py">script</a> and the following graph illustrates some figures.</p>


<div class="box" >
  <figure  itemprop="associatedMedia" itemscope itemtype="http://schema.org/ImageObject">
    <div class="img">
      <img itemprop="thumbnail" src="/images/Wizium/Prefix.jpg" alt="Average number of words available, given the length of the prefix (logarithmic values)."/>
    </div>
    <a href="/images/Wizium/Prefix.jpg" itemprop="contentUrl"></a>
      <figcaption>
          <p>Average number of words available, given the length of the prefix (logarithmic values).</p>
      </figcaption>
  </figure>
</div>

<p>Let us define the function $M (S, i)$ expressing the average number of words available given a prefix length $i$. It allows us to calculate the probability that each letter of horizontal words placed at level $i$ still allows us to put a word vertically across.</p>
<p>$${p_ {co}}_i = 1 - (1-p _{co})^{M(S, i)}$$</p>
<p>The probability that a given word is compatible on each column is then given by ${{p_ {co}}_i}^S$, which finally makes it possible to calculate the probability of being able to place a word at level $i$:</p>
<p>$${p_ {h}}_i = 1 - (1-{{p _{co}} _i}^S )^N$$</p>
<p>Before going further, it is interesting to compare the two methods in terms of their probabilities of transition with concrete values. They are given in the following table for a grid of 6x6 squares. Not only does the scaffolding technique require fewer steps, but the probabilities are also higher.</p>
<table>
<thead>
<tr>
<th style="text-align:left">Stage  </th>
<th style="text-align:right">Braiding  </th>
<th style="text-align:right">Scaffolding</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><strong>1</strong></td>
<td style="text-align:right">1</td>
<td style="text-align:right">1</td>
</tr>
<tr>
<td style="text-align:left"><strong>2</strong></td>
<td style="text-align:right">1</td>
<td style="text-align:right">1</td>
</tr>
<tr>
<td style="text-align:left"><strong>3</strong></td>
<td style="text-align:right">1</td>
<td style="text-align:right">1</td>
</tr>
<tr>
<td style="text-align:left"><strong>4</strong></td>
<td style="text-align:right">1</td>
<td style="text-align:right">1</td>
</tr>
<tr>
<td style="text-align:left"><strong>5</strong></td>
<td style="text-align:right">1</td>
<td style="text-align:right">0.47</td>
</tr>
<tr>
<td style="text-align:left"><strong>6</strong></td>
<td style="text-align:right">0.998</td>
<td style="text-align:right">0.043</td>
</tr>
<tr>
<td style="text-align:left"><strong>7</strong></td>
<td style="text-align:right">0.998</td>
<td></td>
</tr>
<tr>
<td style="text-align:left"><strong>8</strong></td>
<td style="text-align:right">0.39</td>
<td></td>
</tr>
<tr>
<td style="text-align:left"><strong>9</strong></td>
<td style="text-align:right">0.39</td>
<td></td>
</tr>
<tr>
<td style="text-align:left"><strong>10</strong></td>
<td style="text-align:right">0.038</td>
<td></td>
</tr>
<tr>
<td style="text-align:left"><strong>11</strong></td>
<td style="text-align:right">0.038</td>
<td></td>
</tr>
<tr>
<td style="text-align:left"><strong>12</strong></td>
<td style="text-align:right">0.003</td>
<td></td>
</tr>
</tbody>
</table>
<p>Equipped with these new probabilities, we can again calculate the expectation of the transient phase to obtain an order of magnitude of the number of steps required to solve the grid by this second approach. However, it is important to mention that, here, it is necessary to correct the values we obtain. Indeed, the transition probabilities relate to the possibility that there is a word compatible with each of the crossed columns, but you have yet to find this word! This is by no means immediate since it may require several trials to achieve it. It is still possible to get there intelligently by keeping the count of all the incompatible letters, which makes it possible to exhaust the whole dictionary in a maximum of $26.S$ steps.</p>
<p>The table that follows compares the number of steps specific to the two methods exposed above with, for the last, a correction factor estimated at $10.S$.</p>
<table>
<thead>
<tr>
<th style="text-align:left">$S$</th>
<th style="text-align:center">  # grids </th>
<th style="text-align:right">  #braiding  </th>
<th style="text-align:right">  #scaff.  </th>
<th style="text-align:right">  Mean slv time</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"></td>
<td style="text-align:center"></td>
<td style="text-align:right"></td>
<td style="text-align:right"></td>
<td style="text-align:right"></td>
</tr>
<tr>
<td style="text-align:left">5  </td>
<td style="text-align:center">$10^{19}$</td>
<td style="text-align:right">$10^{3.4}$</td>
<td style="text-align:right">$10^{2.8}$</td>
<td style="text-align:right">0,5 ms</td>
</tr>
<tr>
<td style="text-align:left">6  </td>
<td style="text-align:center">$10^{24.8}$</td>
<td style="text-align:right">$10^{6.3}$</td>
<td style="text-align:right">$10^{3.8}$</td>
<td style="text-align:right">6 ms</td>
</tr>
<tr>
<td style="text-align:left">7  </td>
<td style="text-align:center">$10^{30.5}$</td>
<td style="text-align:right">$10^{11}$</td>
<td style="text-align:right">$10^{5.7}$</td>
<td style="text-align:right">0,5 sec.</td>
</tr>
<tr>
<td style="text-align:left">8  </td>
<td style="text-align:center">$10^{36.0}$</td>
<td style="text-align:right">$10^{17.8}$</td>
<td style="text-align:right">$10^{8.5}$</td>
<td style="text-align:right">5 min.</td>
</tr>
</tbody>
</table>
<p>Although this study is theoretical, the average number of steps to solve these perfect grids in Wizium is very close to the values displayed here. This shows how important the choice of the algorithm is when the search space of the problem to be treated is large. For the 8x8 grids, it allowed us to go from a resolution in one thousand trillion years to 20,000 years, then to a handful of minutes. It is a dizzying acceleration of no less than 26 orders of magnitude, <em>which is more or less equivalent to reducing the size of a galaxy to that of a city and then to that of a bacteria</em>.</p>
<p><a href="../part3">Next chapter</a></p>
        </span>
      </div>
      <div class="f5 mid-gray">
      <br>
      Sharing is caring
      

<a class="resp-sharing-button__link" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fjsgonsette.github.io%2fen%2fprojects%2fwizium%2fpart2%2f" target="_blank" rel="noopener" aria-label="">
  <div class="resp-sharing-button resp-sharing-button--facebook resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.77 7.46H14.5v-1.9c0-.9.6-1.1 1-1.1h3V.5h-4.33C10.24.5 9.5 3.44 9.5 5.32v2.15h-3v4h3v12h5v-12h3.85l.42-4z"/></svg>
    </div>
  </div>
</a>


<a class="resp-sharing-button__link" href="https://twitter.com/intent/tweet/?text=Wizium%20-%20My%20Crosswords%20Generator - The%20Right%20Way%20to%20Pave%20the%20Grid&amp;url=https%3a%2f%2fjsgonsette.github.io%2fen%2fprojects%2fwizium%2fpart2%2f" target="_blank" rel="noopener" aria-label="">
  <div class="resp-sharing-button resp-sharing-button--twitter resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M23.44 4.83c-.8.37-1.5.38-2.22.02.93-.56.98-.96 1.32-2.02-.88.52-1.86.9-2.9 1.1-.82-.88-2-1.43-3.3-1.43-2.5 0-4.55 2.04-4.55 4.54 0 .36.03.7.1 1.04-3.77-.2-7.12-2-9.36-4.75-.4.67-.6 1.45-.6 2.3 0 1.56.8 2.95 2 3.77-.74-.03-1.44-.23-2.05-.57v.06c0 2.2 1.56 4.03 3.64 4.44-.67.2-1.37.2-2.06.08.58 1.8 2.26 3.12 4.25 3.16C5.78 18.1 3.37 18.74 1 18.46c2 1.3 4.4 2.04 6.97 2.04 8.35 0 12.92-6.92 12.92-12.93 0-.2 0-.4-.02-.6.9-.63 1.96-1.22 2.56-2.14z"/></svg>
    </div>
  </div>
</a>






<a class="resp-sharing-button__link" href="mailto:?subject=Wizium%20-%20My%20Crosswords%20Generator - The%20Right%20Way%20to%20Pave%20the%20Grid&amp;body=https%3a%2f%2fjsgonsette.github.io%2fen%2fprojects%2fwizium%2fpart2%2f" target="_self" rel="noopener" aria-label="">
  <div class="resp-sharing-button resp-sharing-button--email resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 4H2C.9 4 0 4.9 0 6v12c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM7.25 14.43l-3.5 2c-.08.05-.17.07-.25.07-.17 0-.34-.1-.43-.25-.14-.24-.06-.55.18-.68l3.5-2c.24-.14.55-.06.68.18.14.24.06.55-.18.68zm4.75.07c-.1 0-.2-.03-.27-.08l-8.5-5.5c-.23-.15-.3-.46-.15-.7.15-.22.46-.3.7-.14L12 13.4l8.23-5.32c.23-.15.54-.08.7.15.14.23.07.54-.16.7l-8.5 5.5c-.08.04-.17.07-.27.07zm8.93 1.75c-.1.16-.26.25-.43.25-.08 0-.17-.02-.25-.07l-3.5-2c-.24-.13-.32-.44-.18-.68s.44-.32.68-.18l3.5 2c.24.13.32.44.18.68z"/></svg>
    </div>
  </div>
</a>


<a class="resp-sharing-button__link" href="https://pinterest.com/pin/create/button/?url=https%3a%2f%2fjsgonsette.github.io%2fen%2fprojects%2fwizium%2fpart2%2f&amp;media=https://jsgonsette.github.io/&amp;description=Wizium%20-%20My%20Crosswords%20Generator - The%20Right%20Way%20to%20Pave%20the%20Grid" target="_blank" rel="noopener" aria-label="">
  <div class="resp-sharing-button resp-sharing-button--pinterest resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12.14.5C5.86.5 2.7 5 2.7 8.75c0 2.27.86 4.3 2.7 5.05.3.12.57 0 .66-.33l.27-1.06c.1-.32.06-.44-.2-.73-.52-.62-.86-1.44-.86-2.6 0-3.33 2.5-6.32 6.5-6.32 3.55 0 5.5 2.17 5.5 5.07 0 3.8-1.7 7.02-4.2 7.02-1.37 0-2.4-1.14-2.07-2.54.4-1.68 1.16-3.48 1.16-4.7 0-1.07-.58-1.98-1.78-1.98-1.4 0-2.55 1.47-2.55 3.42 0 1.25.43 2.1.43 2.1l-1.7 7.2c-.5 2.13-.08 4.75-.04 5 .02.17.22.2.3.1.14-.18 1.82-2.26 2.4-4.33.16-.58.93-3.63.93-3.63.45.88 1.8 1.65 3.22 1.65 4.25 0 7.13-3.87 7.13-9.05C20.5 4.15 17.18.5 12.14.5z"/></svg>
    </div>
  </div>
</a>


    </div>
    </article>
    <aside class="ph3 mt2 mt6-ns">
      







  <div class="bg-light-gray pa3">
    <ul>
      <li class="list b mb3">
        2 autres articles dans Wizium
      </li>
      
        <li class="list f5 w-100 hover-bg-white nl1">
          
          <a href="/en/projects/wizium/part1/" class="link ph2 pv2 db black">
            The Long Way of Backtracking
          </a>
        </li>
      
        <li class="list f5 w-100 hover-bg-white nl1">
          
          <a href="/en/projects/wizium/part2/" class="link ph2 pv2 db black o-50">
            The Right Way to Pave the Grid
          </a>
        </li>
      
        <li class="list f5 w-100 hover-bg-white nl1">
          
          <a href="/en/projects/wizium/part3/" class="link ph2 pv2 db black">
            My racing tactic is obvious: I press the accelerator and I rush
          </a>
        </li>
      
    </ul>
  </div>


    </aside>
  </div>

    </main>
    <footer class="bg-near-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="https://jsgonsette.github.io/" >
    &copy; 2023 Jean-Sébastien Gonsette
  </a>
  <p align="right">






  <a href="https://www.linkedin.com/in/jsgonsette/" class="link-transition linkedin link dib z-999 pt3 pt0-l mr2" title="LinkedIn link">
    <svg  height="32px"  style="enable-background:new 0 0 65 65;" version="1.1" viewBox="0 0 65 65" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <path d="M50.837,48.137V36.425c0-6.275-3.35-9.195-7.816-9.195  c-3.604,0-5.219,1.983-6.119,3.374V27.71h-6.79c0.09,1.917,0,20.427,0,20.427h6.79V36.729c0-0.609,0.044-1.219,0.224-1.655  c0.49-1.22,1.607-2.483,3.482-2.483c2.458,0,3.44,1.873,3.44,4.618v10.929H50.837z M22.959,24.922c2.367,0,3.842-1.57,3.842-3.531  c-0.044-2.003-1.475-3.528-3.797-3.528s-3.841,1.524-3.841,3.528c0,1.961,1.474,3.531,3.753,3.531H22.959z M34,64  C17.432,64,4,50.568,4,34C4,17.431,17.432,4,34,4s30,13.431,30,30C64,50.568,50.568,64,34,64z M26.354,48.137V27.71h-6.789v20.427  H26.354z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>

  </a>


  <a href="https://github.com/jsgonsette" class="link-transition github link dib z-999 pt3 pt0-l mr2" title="Github link">
    <svg  height="32px"  style="enable-background:new 0 0 512 512;" version="1.1" viewBox="0 0 512 512" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
  <path d="M256,32C132.3,32,32,134.8,32,261.7c0,101.5,64.2,187.5,153.2,217.9c11.2,2.1,15.3-5,15.3-11.1   c0-5.5-0.2-19.9-0.3-39.1c-62.3,13.9-75.5-30.8-75.5-30.8c-10.2-26.5-24.9-33.6-24.9-33.6c-20.3-14.3,1.5-14,1.5-14   c22.5,1.6,34.3,23.7,34.3,23.7c20,35.1,52.4,25,65.2,19.1c2-14.8,7.8-25,14.2-30.7c-49.7-5.8-102-25.5-102-113.5   c0-25.1,8.7-45.6,23-61.6c-2.3-5.8-10-29.2,2.2-60.8c0,0,18.8-6.2,61.6,23.5c17.9-5.1,37-7.6,56.1-7.7c19,0.1,38.2,2.6,56.1,7.7   c42.8-29.7,61.5-23.5,61.5-23.5c12.2,31.6,4.5,55,2.2,60.8c14.3,16.1,23,36.6,23,61.6c0,88.2-52.4,107.6-102.3,113.3   c8,7.1,15.2,21.1,15.2,42.5c0,30.7-0.3,55.5-0.3,63c0,6.1,4,13.3,15.4,11C415.9,449.1,480,363.1,480,261.7   C480,134.8,379.7,32,256,32z"/>
</svg>

  </a>


  <a href="https://jeansebastien-gonsette.medium.com/" class="link-transition medium link dib z-999 pt3 pt0-l mr2" title="Medium link">
    <svg  height="32px"  style="enable-background:new 0 0 170 170;" version="1.1" viewBox="0 0 170 170" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M46.5340803,65.2157554 C46.6968378,63.6076572 46.0836,62.018231 44.8828198,60.93592 L32.6512605,46.2010582 L32.6512605,44 L70.6302521,44 L99.9859944,108.380952 L125.794585,44 L162,44 L162,46.2010582 L151.542017,56.2281011 C150.640424,56.9153477 150.193188,58.0448862 150.380019,59.1628454 L150.380019,132.837155 C150.193188,133.955114 150.640424,135.084652 151.542017,135.771899 L161.755369,145.798942 L161.755369,148 L110.38282,148 L110.38282,145.798942 L120.963119,135.527337 C122.002801,134.487948 122.002801,134.182246 122.002801,132.592593 L122.002801,73.0417402 L92.585901,147.755438 L88.6106443,147.755438 L54.3622782,73.0417402 L54.3622782,123.115814 C54.0767278,125.221069 54.7759199,127.3406 56.2581699,128.863022 L70.0186741,145.55438 L70.0186741,147.755438 L31,147.755438 L31,145.55438 L44.7605042,128.863022 C46.2319621,127.338076 46.8903838,125.204485 46.5340803,123.115814 L46.5340803,65.2157554 Z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>
  </a>

</p>
  </div>
</footer>

    <script src="https://jsgonsette.github.io/dist/app.bundle.js" async></script>

  </body>
</html>
